{"uid":"68abf88419ce7fa6","name":"test_opendkim_signed_message","fullName":"tests.integration.test_charm#test_opendkim_signed_message","historyId":"79a22f886021e24d1ced82783b370dea","time":{"start":1768663399494,"stop":1768663422704,"duration":23210},"description":"\n    arrange: Deploy smtp-relay charm with the testrelay.internal domain in relay domains.\n    act: Send an email to an address with the testrelay.internal domain.\n    assert: The email is correctly relayed to the mailcatcher local test smtp server.\n    ","descriptionHtml":"<pre><code>arrange: Deploy smtp-relay charm with the testrelay.internal domain in relay domains.\nact: Send an email to an address with the testrelay.internal domain.\nassert: The email is correctly relayed to the mailcatcher local test smtp server.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1768663096019,"stop":1768663096536,"duration":517},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"machine_ip_address","time":{"start":1768663096536,"stop":1768663096536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"opendkim_app","time":{"start":1768663096537,"stop":1768663197695,"duration":101158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768663096537,"stop":1768663096537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"opendkim_charm","time":{"start":1768663096537,"stop":1768663096537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"smtp_relay_app","time":{"start":1768663197695,"stop":1768663399493,"duration":201798},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1768663399493,"stop":1768663399494,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Deploy smtp-relay charm with the testrelay.internal domain in relay domains.\n    act: Send an email to an address with the testrelay.internal domain.\n    assert: The email is correctly relayed to the mailcatcher local test smtp server.\n    ","status":"passed","steps":[],"attachments":[{"uid":"c6335480d4b675b5","name":"log","source":"c6335480d4b675b5.txt","type":"text/plain","size":28877}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1768663422704,"stop":1768663422704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1768663472302,"stop":1768663472302,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12862-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"19767fafcbeb36f4","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":22,"unknown":0,"total":25},"items":[{"uid":"a070a67982d73d0f","reportUrl":"../146//#testresult/a070a67982d73d0f","status":"passed","time":{"start":1768058638566,"stop":1768058666845,"duration":28279}},{"uid":"16268c4a8e3f0e08","reportUrl":"../141//#testresult/16268c4a8e3f0e08","status":"passed","time":{"start":1767453877282,"stop":1767453905689,"duration":28407}},{"uid":"27d4483e0a3703c0","reportUrl":"../134//#testresult/27d4483e0a3703c0","status":"passed","time":{"start":1766848993941,"stop":1766849022299,"duration":28358}},{"uid":"2b907d7a53b39ae","reportUrl":"../127//#testresult/2b907d7a53b39ae","status":"passed","time":{"start":1766244092421,"stop":1766244115683,"duration":23262}},{"uid":"a03623944d33de2d","reportUrl":"../112//#testresult/a03623944d33de2d","status":"passed","time":{"start":1765034572412,"stop":1765034600765,"duration":28353}},{"uid":"303d895d423dfe37","reportUrl":"../105//#testresult/303d895d423dfe37","status":"passed","time":{"start":1764430493799,"stop":1764430522021,"duration":28222}},{"uid":"3ab8d604ddbde7fb","reportUrl":"../95//#testresult/3ab8d604ddbde7fb","status":"passed","time":{"start":1763714684891,"stop":1763714713248,"duration":28357}},{"uid":"44726801ef2bddc6","reportUrl":"../93//#testresult/44726801ef2bddc6","status":"passed","time":{"start":1763682171607,"stop":1763682200237,"duration":28630}},{"uid":"b03ff469f65be2d2","reportUrl":"../92//#testresult/b03ff469f65be2d2","status":"passed","time":{"start":1763665973386,"stop":1763666001946,"duration":28560}},{"uid":"af90737593342df0","reportUrl":"../91//#testresult/af90737593342df0","status":"passed","time":{"start":1763464530716,"stop":1763464559428,"duration":28712}},{"uid":"4f534c423a4dd960","reportUrl":"../89//#testresult/4f534c423a4dd960","status":"passed","time":{"start":1763444725149,"stop":1763444753505,"duration":28356}},{"uid":"5f5453d7381db57a","reportUrl":"../88//#testresult/5f5453d7381db57a","status":"passed","time":{"start":1762355390672,"stop":1762355419148,"duration":28476}},{"uid":"8b25713f428d8372","reportUrl":"../87//#testresult/8b25713f428d8372","status":"passed","time":{"start":1762282588145,"stop":1762282616506,"duration":28361}},{"uid":"d679cc2cd89c44c2","reportUrl":"../85//#testresult/d679cc2cd89c44c2","status":"passed","time":{"start":1761318646818,"stop":1761318670640,"duration":23822}},{"uid":"9c097a1c3ca73257","reportUrl":"../84//#testresult/9c097a1c3ca73257","status":"passed","time":{"start":1761316700269,"stop":1761316728652,"duration":28383}},{"uid":"57379a1c3be5c963","reportUrl":"../83//#testresult/57379a1c3be5c963","status":"passed","time":{"start":1761311859222,"stop":1761311887816,"duration":28594}},{"uid":"e452f39fe065a450","reportUrl":"../82//#testresult/e452f39fe065a450","status":"passed","time":{"start":1761306982448,"stop":1761307005966,"duration":23518}},{"uid":"1dc9bc2d19b5a679","reportUrl":"../81//#testresult/1dc9bc2d19b5a679","status":"passed","time":{"start":1761295472215,"stop":1761295500795,"duration":28580}},{"uid":"a6d2b5c099c12385","reportUrl":"../80//#testresult/a6d2b5c099c12385","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='jubilant-60640246',\n    type='iaas',\n    controller='github-pr-82a9d-lxd',\n    cloud='localhost',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='24 Oct 2025 08:31:19Z'),\n  ),\n  machines={\n    '0': MachineStatus(\n      juju_status=StatusInfo(current='started', since='24 Oct 2025 08:32:00Z', version='3.6.11'),\n      hostname='juju-078741-0',\n      dns_name='10.162.42.54',\n      ip_addresses=['10.162.42.54'],\n      instance_id='juju-078741-0',\n      machine_status=StatusInfo(current='running', message='Running', since='24 Oct 2025 08:31:35Z'),\n      modification_status=StatusInfo(current='applied', since='24 Oct 2025 08:31:29Z'),\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      network_interfaces={\n        'eth0': NetworkInterface(\n          ip_addresses=['10.162.42.54'],\n          mac_address='00:16:3e:64:41:a6',\n          is_up=True,\n          gateway='10.162.42.1',\n          space='alpha',\n        ),\n      },\n      constraints='arch=amd64',\n      hardware='arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container',\n    ),\n  },\n  apps={\n    'opendkim': AppStatus(\n      charm='local:opendkim-0',\n      charm_origin='local',\n      charm_name='opendkim',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      app_status=StatusInfo(current='error', message='hook failed: \"install\"', since='24 Oct 2025 08:37:23Z'),\n      units={\n        'opendkim/0': UnitStatus(\n          workload_status=StatusInfo(current='error', message='hook failed: \"install\"', since='24 Oct 2025 08:37:23Z'),\n          juju_status=StatusInfo(current='idle', since='24 Oct 2025 08:37:23Z', version='3.6.11'),\n          leader=True,\n          machine='0',\n          public_address='10.162.42.54',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'cos-agent': 'alpha', 'milter': 'alpha'},\n    ),\n  },\n  controller=ControllerStatus(timestamp='08:41:23Z'),\n)","time":{"start":1761294679608,"stop":1761294679608,"duration":0}},{"uid":"1ca3a24b1ec7c11b","reportUrl":"../78//#testresult/1ca3a24b1ec7c11b","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='jubilant-b9f0e36a',\n    type='iaas',\n    controller='github-pr-7d398-lxd',\n    cloud='localhost',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='23 Oct 2025 14:50:34Z'),\n  ),\n  machines={\n    '0': MachineStatus(\n      juju_status=StatusInfo(current='started', since='23 Oct 2025 14:51:25Z', version='3.6.11'),\n      hostname='juju-2f41a2-0',\n      dns_name='10.160.142.30',\n      ip_addresses=['10.160.142.30'],\n      instance_id='juju-2f41a2-0',\n      machine_status=StatusInfo(current='running', message='Running', since='23 Oct 2025 14:50:50Z'),\n      modification_status=StatusInfo(current='applied', since='23 Oct 2025 14:50:46Z'),\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      network_interfaces={\n        'eth0': NetworkInterface(\n          ip_addresses=['10.160.142.30'],\n          mac_address='00:16:3e:17:57:62',\n          is_up=True,\n          gateway='10.160.142.1',\n          space='alpha',\n        ),\n      },\n      constraints='arch=amd64',\n      hardware='arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container',\n    ),\n  },\n  apps={\n    'opendkim': AppStatus(\n      charm='local:opendkim-0',\n      charm_origin='local',\n      charm_name='opendkim',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      app_status=StatusInfo(current='error', message='hook failed: \"install\"', since='23 Oct 2025 14:56:51Z'),\n      units={\n        'opendkim/0': UnitStatus(\n          workload_status=StatusInfo(current='error', message='hook failed: \"install\"', since='23 Oct 2025 14:56:51Z'),\n          juju_status=StatusInfo(current='idle', since='23 Oct 2025 14:56:51Z', version='3.6.11'),\n          leader=True,\n          machine='0',\n          public_address='10.160.142.30',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'cos-agent': 'alpha', 'milter': 'alpha'},\n    ),\n  },\n  controller=ControllerStatus(timestamp='15:00:39Z'),\n)","time":{"start":1761231034491,"stop":1761231034491,"duration":0}}]},"tags":["abort_on_fail"]},"source":"68abf88419ce7fa6.json","parameterValues":[]}